<html xmlns:th="http://www.thymeleaf.org">

<head>
    <title> View Admins </title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@3.9.1/dist/chart.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/remixicon@2.5.0/fonts/remixicon.css" rel="stylesheet">
    <link href='https://unpkg.com/boxicons@2.1.1/css/boxicons.min.css' rel='stylesheet'>
    <script src="https://code.iconify.design/iconify-icon/1.0.7/iconify-icon.min.js"></script>
    <link rel="stylesheet" href="../css/admin.css">
</head>

<style>
  .top-bar {
    width: calc(100% - 250px);
    /* Adjust to fit the sidebar width */
    height: 50px;
    /* Height of the top bar */
    background-color: #f4f4f4;
    /* Background color of the top bar */
    color: #fff;
    /* Text color */
    position: fixed;
    top: 0;
    left: 250px;
    /* Start after the sidebar */
    z-index: 1000;
    /* Ensure it is above other content */
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
    /* Optional shadow for better visibility */
  }


  .sidebar {
    width: 250px;
    position: fixed;
    top: 0;
    left: 0;
    height: 100%;
    background-color: #f4f4f4;
    border-right: 1px solid #ddd;
    padding: 20px;
    box-shadow: 2px 0 5px rgba(0, 0, 0, 0.1);
    z-index: 999;
    /* Ensure sidebar is below the top bar */
  }

  .sidebar a {
    display: block;
    padding: 10px;
    margin-bottom: 10px;
    color: #333;
    text-decoration: solid;
    border-radius: 4px;
    transition: background-color 0.3s, color 0.3s;
  }

  .sidebar a:hover {
    background-color: #165d0a;
    color: #ffffff;
  }

  body {
    background-image: url('../images/white.jpg');
    background-position: center;
    background-size: contain;
    margin-top: 50px;
    /* Adjust margin to account for the top bar */
  }
</style>

<body>

    <div th:include="navigation"></div>

    <div class="view">
        <h1 id="h1h1">CANAL SUGAR ADMINS: </h1>
        <div class="search-bar">
            <input type="text" id="searchBar" placeholder="Search by asset name or user" oninput="filterAssets()" />
        </div>
        <table class="table table-dark">
            <thead>
                <tr>
                    <th>ADMIN ID</th>
                    <th>FirstName</th>
                    <th>LastName</th>
                    <th>Email</th>
                    <th>NUMBER</th>
                    <th>ACTIONS</th>
                </tr>
            </thead>
            <tbody id="adminTableBody">
                <tr th:each="admin : ${alladmins}">
                    <td th:text="${admin.AdminID}"></td>
                    <td th:text="${admin.firstname}"></td>
                    <td th:text="${admin.lastname}"></td>
                    <td th:text="${admin.email}"></td>
                    <td th:text="${admin.number}"></td>
                    <!-- Actions column for edit/delete buttons -->
                    <!-- <td>
                        <a id="edit" th:href="@{'edit/' + ${admin.AdminID}}">EDIT</a> ||
                        <a id="delete" th:href="@{'delete/' + ${admin.AdminID}}">DELETE</a>
                    </td> -->
                </tr>
            </tbody>
        </table>
    </div>
</body>



<script>
    function filterAssets() {
        const searchTerm = document.getElementById('searchBar').value.toLowerCase();
        const rows = document.querySelectorAll('#adminTableBody tr');

        rows.forEach(function(row) {
            const adminID = row.cells[0].textContent.toLowerCase();
            const firstName = row.cells[1].textContent.toLowerCase();
            const lastName = row.cells[2].textContent.toLowerCase();
            const email = row.cells[3].textContent.toLowerCase();
            const number = row.cells[4].textContent.toLowerCase();

            // Check if the row matches the search term
            const matchesSearch = adminID.includes(searchTerm) ||
                                  firstName.includes(searchTerm) ||
                                  lastName.includes(searchTerm) ||
                                  email.includes(searchTerm) ||
                                  number.includes(searchTerm);

            // Show or hide the row based on the search term match
            row.style.display = matchesSearch ? '' : 'none';
        });
    }
</script>
</html>

   